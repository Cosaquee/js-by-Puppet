<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Tworzenie ekosystemu developerskiego</title>

    <meta name="description" content="Configuration Management Workshop 2016 - Tworzenie ekosystemu developerskiego">
    <meta name="author" content="Karol Kozakowski">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>
    <div class="reveal">
        <div class="slides">

            <!-- SLIDES STARTS HERE -->

            <section>
                <h1>Puppet</h1>
                <h4 class="blue">Tworzenie ekosystemu deweloperskiego dla JavaScript</h4>
                <p><span style="font-size:16px">by Karol Kozakowski <a href="https://twitter.com/cosaquee" target="_blank">@cosaquee</a></span></p>
            </section>

            <section>
                <section>
                    <img style="float: right; margin: 20" height="250" src="img/self_logo.jpg">
                    <div style="text-align: left;">
                        <h1 class="blue">Cześć!</h1>
                        <p>Karol Kozakowski</p>
                        <ul>
                            <li class="fragment">Developer/DevOps Specialist @COI</li>
                        </ul>

                        <ul>
                            <li>Z DevOps od pół roku</li>
                            <li class="fragment">Zarządzanie ekosystemem do budowy i testowania aplikacji</li>
                        </ul>
                        <p>

                        </p>
                    </div>
                </section>

                <section>
                    <ul>
                        <li>Tworzenie i zarządzanie modułami Puppet</li>
                        <li class="fragment">Zarządzanie systemami CI</li>
                        <li class="fragment">Praca z narzędziami wsparcia DevOps</li>
                    </ul>
                </section>
            </section>

            <section>
                <section>
                    <h2>Jak będzie wyglądał warsztat?</h2>
                    <ul>
                        <li>~8 tematów:
                            <ul>
                                <li>Wstęp teoretyczny</li>
                                <li>Samodzielna praca</li>
                            </ul>
                        </li>
                    </ul>
                </section>

                <section>
                    <h2>Co przed nami?</h2>
                    <ol>
                        <li class="fragment">Czym jest środowisko deweloperskie, jakie są rodzaje i jak powinno wyglądać?</li>
                        <li class="fragment">Wprowadzenie do narzędzia Vagrant</li>
                        <li class="fragment">Przypomnienie z Puppet DSL</li>
                        <li class="fragment">Modułowość - klasy i definicje w Puppet</li>
                        <li class="fragment">Puppetforge i zewnętrzne moduły(librarian-puppet)</li>
                        <li class="fragment">Moduł puppetlabs/nodejs</li>
                        <li class="fragment">Puppet provider</li>
                        <li class="fragment">Stworzenie środowiska deweloperskiego JS przy użyciu Puppet</li>
                </section>
            </section>

            <section data-background-color="#5A983F">
                <h1>Dyskusja</h1>
                <ul>
                    <li>Jakie cele mam na tym warsztacie?</li>
                    <li>Czy potrafię wskazać na czym najbardziej mi zależy?</li>
                    <li>Czy mam już plan jak wykorzystać zdobytą tu wiedzę?</li>
                </ul>
            </section>

            <section>
                <section>
                    <h1>Środowisko deweloperskie</h1>
                </section>

                <section>
                    <h1>Co to jest?</h1>
                    <h2 class="blue">środowisko deweloperskie</h2>
                    <blockquote>
                        Miejsce lub system w którym programista tworzy aplikacje
                    </blockquote>
                </section>

                <section>
                    <ul>
                        <li>Zależności danego projektu w odpowiednich wersjach</li>
                        <li class="fragment">Biblioteki i kod wymagany do zbudowania i przetestowania aplikacji</li>
                        <li class="fragment">Powinno być zbliżone do środowiska produkcyjnego</li>
                    </ul>
                </section>

                <section>
                    <h2 class="blue">Rodzaje środowisk</h2>
                    <ul>
                        <li>scentralizowane</li>
                        <li class="fragment">ręczne</li>
                        <li class="fragment">automatyczne</li>
                    </ul>
                </section>

                <section>
                    <h2 class="blue">Jak tworzyć</h2>
                    <ul>
                        <li>Użycie narzędzi typu <strong>Configuration Management</strong></li>
                        <li class="fragment">Praktyka DevOps</li>
                    </ul>
                </section>
            </section>

            <section data-background-color="#A61C00">
                <h1>Dyskusja</h1>

                <p>Jak wyglądają rozwiązania problemu środowisk produkcyjnych w innych firmach?</p>
                <p>Jakie technologie są używane ?</p>
            </section>

            <section>
                <section data-background-color="#1C4587">
                    <h1>Sposoby pracy z narzędziami configuration management</h1>
                </section>
                <section>
                    <h2>Praca bezpośrednio na docelowej infrastrukturze</h2>
                    <ul>
                        <li>Nie polecam</li>
                        <li class="fragment">Niebezpieczne i jedno dostępne</li>
                        <li class="fragment">Szczątkowe możliwości testowania</li>
                        <li class="fragment">Możliwość używania środowisk</li>
                    </ul>
                    <p class="fragment">Najpopularniejsze i polecane przez Puppetlabs :-(</p>
                </section>
                <section>
                    <h2>Wykorzystanie narzędzi typu Vagrant</h2>
                    <ul>
                        <li>W miarę wygodne i proste</li>
                        <li class="fragment">Bezpieczne</li>
                        <li class="fragment">Możliwe dogłębne testowanie</li>
                        <li class="fragment">Możliwe wykorzystanie systemów CI</li>
                    </ul>
                    <p class="fragment">Tak będziemy pracować na tym warsztacie</p>
                </section>
                <section>
                    <h2>Wykorzystanie separacji modułów</h2>
                    <ul>
                        <li>Wymaga ekosystemu developerskiego Puppet</li>
                        <li class="fragment">Bezpieczne, wielodostępne i skalowalne</li>
                        <li class="fragment">Możliwe pełne testowanie i separacja na odpowiedzialności</li>
                        <li class="fragment">Konieczne wykorzystanie systemów CI i CD</li>
                        <li class="fragment">Wykorzystanie zaawansowanych testów rspec i beaker</li>
                    </ul>
                    <p class="fragment">Najlepszy sposób pracy lecz zaawansowany</p>
                </section>
            </section>

            <section>
                <section>
                    <img src="img/logos/vagrant.png" height="500" />
                </section>
                <section>
                    <h1>Vagrant</h1>
                    <p>Typowe narzędzie fazy rozwoju i wstępnego testowania rozwiązań. Pozwala na:</p>
                    <ul>
                        <li class="fragment">szybkie zarządzanie obrazami maszyny wirtualnej</li>
                        <li class="fragment">zarządzanie połączeniami sieciowymi</li>
                        <li class="fragment">miejscem współdzielonym</li>
                        <li class="fragment">uruchamianiem na maszynie wirtualnej skryptów i narzędzi configuration management</li>
                    </ul>
                </section>
                <section>
                    <h2 class="blue">Kluczowe funkcje Vagranta</h2>
                    <ul style="font-size: 0.9em">
                        <li>dostarcza polecenia linii komend do sterowania maszyną lub maszynami wirtualnymi</li>
                        <li class="fragment">pozwala na zapis konfiguracji w pliku Vagrantfile</li>
                        <li class="fragment">posiada szereg wbudowanych providerów: VirtualBox, VMWare, Docker, Hyper-V</li>
                        <li class="fragment">posiada szereg wbudowanych provisionerów: Shell, Chef, Puppet, Ansible, Docker, Salt, CFEngine</li>
                        <li class="fragment">posiada system wtyczek i istnieje wiele publicznych wtyczek</li>
                        <li class="fragment">posiada prostą instalację w postaci pliku DEB, RPM, MSI lub DMG</li>
                        <li class="fragment">dostarcza automatycznej konfiguracji sieci oraz folderów współdzielonych</li>
                    </ul>
                </section>
                <section>
                    <h1 class="blue">Instalacja</h1>
                    <h2>Vagrant</h2>
                    <pre><code class="bash" style="font-size: 16px;"># All commands as root
echo 'deb http://download.virtualbox.org/virtualbox/debian trusty contrib' >
    /etc/apt/sources.list.d/virtualbox.list
wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | apt-key add -
apt-get update
apt-get install virtualbox-5.0

curl -kL https://dl.bintray.com/mitchellh/vagrant/vagrant_1.7.2_x86_64.deb -o vagrant_1.7.2_x86_64.deb
dpkg -i vagrant_1.7.2_x86_64.deb</code></pre>
                </section>

                <section>
                    <h2>Bazowe obrazy do Vagranta</h2>
                    <img src="img/atlas.png" />
                    <a href="https://atlas.hashicorp.com/boxes/search">https://atlas.hashicorp.com/boxes/search</a>
                </section>

                <section>
                    <h2>Nowe środowisko dla Vagranta</h2>
                    <pre><code class="ini" style="font-size: 18px;">$ vagrant init puppetlabs/ubuntu-14.04-64-nocm
A `Vagrantfile` has been placed in this directory. You are now
ready to `vagrant up` your first virtual environment! Please read
the comments in the Vagrantfile as well as documentation on
`vagrantup.com` for more information on using Vagrant.
$ _</code></pre>
                </section>

                <section>
                    <h2>Przykładowy plik Vagrantfile</h2>
                    <pre><code class="ruby" style="font-size: 18px;"># -*- mode: ruby -*-
# vi: set ft=ruby :

# Vagrantfile API/syntax version. Don't touch unless you know what
VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  # Every Vagrant virtual environment requires a box to build off o
  config.vm.box = "puppetlabs/ubuntu-14.04-64-nocm"

  # Enable provisioning with Puppet stand alone.  Puppet manifests
  # are contained in a directory path relative to this Vagrantfile.
  # You will need to create the manifests directory and a manifest
  # the file default.pp in the manifests_path directory.
  #
  # config.vm.provision "puppet" do |puppet|
  #   puppet.manifests_path = "manifests"
  #   puppet.manifest_file  = "site.pp"
  # end
end</code></pre>
                </section>

                <section>
                    <h2>Konfiguracja sieci, procesora i pamięci</h2>
                    <pre><code class="ruby" style="font-size: 18px;">Vagrant.configure(2) do |config|
  config.vm.network :private_network, ip: "192.168.50.4"
  config.vm.provider :virtualbox do |v|
    v.memory = 1024
    v.cpus = 2
  end
end</code></pre>
                </section>

                <section>
                    <h2>Uruchomienie maszyn w środowisku</h2>
                    <pre><code class="ini" style="font-size: 16px;">$ vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
==> default: Importing base box 'puppetlabs/ubuntu-14.04-64-nocm'.
==> default: Matching MAC address for NAT networking...
==> default: Checking if box 'puppetlabs/ubuntu-14.04-64-nocm' is
==> default: Setting the name of the VM: tmp_default_1426727671461
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration..
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 22 => 2222 (adapter 1)
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minu
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
==> default: Machine booted and ready!
==> default: Checking for guest additions in VM...
==> default: Mounting shared folders...
    default: /vagrant => /tmp
$ _</code></pre>
                </section>

                <section>
                    <h2>Sesja SSH w środowisku</h2>
                    <pre><code class="ini" style="font-size: 16px;">$ vagrant ssh
Welcome to Ubuntu 14.04 LTS (GNU/Linux 3.13.0-24-generic x86_64)

 * Documentation:  https://help.ubuntu.com/
vagrant@localhost:~$ uptime
 18:17:47 up 3 min,  1 user,  load average: 0.00, 0.00, 0.00
vagrant@localhost:~$ logout
Connection to 127.0.0.1 closed.
$ _</code></pre>
                </section>

                <section>
                    <h2>Zweryfikowanie stanu maszyny</h2>
                    <p>Aby sprawdzić jaki jest aktualny stan maszyny w ramach konfiguracji, należy wywołać polecenie <code>vagrant status</code>.</p>
                </section>

                <section>
                    <h2>Usunięcie maszyny</h2>
                    <p>Aby skasować maszynę wykonać należy polecenie <code>vagrant destroy</code>.</p>
                </section>

                <section>
                    <h2>Zaopatrywanie w konfigurację</h2>
                    <pre><code class="ruby" style="font-size: 18px;">Vagrant.configure("2") do |config|
  config.vm.box = "puppetlabs/ubuntu-14.04-64-puppet"
  # Provision with Bash
  config.vm.provision :shell, inline: "echo Hi $(cat /etc/issue)"
  # Provision with Puppet apply
  config.vm.provision :puppet do |puppet|
    puppet.manifests_path = "manifests"
    # contains: "package { 'elinks': ensure => 'installed', }"
    puppet.manifest_file = "default.pp"
  end
end</code></pre>
                </section>

                <section>
                    <h2>Wynik zaopatrywania w konfigurację</h2>
                    <pre><code class="ini" style="font-size: 18px;">$ vagrant provision
==> default: Running provisioner: shell...
    default: Running: inline script
==> default: Hi Ubuntu 14.04.2 LTS \n \l
==> default: Running provisioner: puppet...
==> default: Running Puppet with default.pp...
==> default: Notice: Compiled catalog for localhost.suszynski.org
 in environment production in 0.08 seconds
==> default: Notice: /Stage[main]/Main/Package[elinks]/ensure:
 ensure changed 'purged' to 'present'
==> default: Notice: Finished catalog run in 4.88 seconds
$ _</code></pre>
                </section>

                <section>
                    <h1 class="blue">Wtyczki</h1>
                    <h2>do Vagranta</h2>
                    <p><a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins">github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins</a></p>
                    <ul>
                        <li>landrush - Lokalnego micro DNS, który automatycznie przyznaje maszynom IP. Działa zarówno w maszynach wirtualnych jak i na hoście</li>
                        <li>sahara - Możliwość wykonywania migawek stanu, przywracania stanu i potwierdzania zmian</li>
                    </ul>
                </section>

            </section>

            <section>
                <h1>Vagrant</h1>
                <h2 class="blue">Demo</h2>
            </section>

            <section data-background-color="#A61C00">
                <h1>Zadanie 1</h1>
                <ul>
                    <li>Zainstalować Vagranta</li>
                    <li>Przygotować maszynę z obrazu: <code>puppetlabs/ubuntu-14.04-64-nocm</code></li>
                    <li>Zainstalować podstawowe pakiety: git, htop, telnet, itp. i sprawdzić separację ze swoim systemem</li>
                    <li>Zatrzymać, usunąć, postawić na nowo, na koniec usunąć</li>
                </ul>
            </section>

            <section data-background="#5A983F">
                <h1>Dyskusja</h1>
                <ul>
                    <li>Czy praca z Vagrantem wydaje się prosta?</li>
                    <li>Jakie problemy mogą się pojawić? Na co uważać?</li>
                    <li>Jakie widzisz plusy i minusy?</li>
                </ul>
            </section>

            <section>
                <section data-background-color="#fff">
                    <img src="img/logos/puppet.png" />
                    <p class="fragment" style="color: #333">Jedno z najbardziej dojrzałych narzędzi DevOps</p>
                </section>

                <section>
                    <h2>Proces wprowadzania zmiany</h2>
                    <img src="img/PL_dataflow_notitle.png" style="background-color: #fff; padding:1em">
                </section>

                <section>
                    <h1>Puppet DSL</h1>
                    <pre><code>package { 'postgresql':
  ensure => 'installed',
}

service { 'postgresql':
  ensure  => 'running',
  enable  => true,
  require => Package['postgresql'],
}</code></pre>
                    <p>Nawet ludzie nie znający Puppeta są w stanie odgadnąć co może oznaczać taki zapis</p>
                </section>

                <section>
                    <h1 class="blue">Zasób Puppet</h1>
                    <p>Zasobem jest każdy pojedynczy <strong class="blue">deklaratywny</strong> element, który puppet może wymusić</p>
                    <pre><code class="puppet">service { 'apache2':
  ensure => 'running',
  enable => true,
}</code></pre>
                    <p class="fragment">Puppet posiada wiele wbudowanych zasobów</p>
                </section>

                <section>
                    <h1>Kolejność</h1>
                    <p>Zasoby tworzą graf w którym określamy kolejność wykonania</p>
                    <pre><code class="puppet">service { 'apache2':
  ensure  => 'running',
  require => Package['apache2'],
}
package { 'apache2':
  ensure => 'installed',
}</code></pre>
                    <p class="fragment">require, before, subscribe, notify</p>
                </section>
                <section>
                    <h2>Polecany flow</h2>
                    <code>install -> configure ~> service</code>
                    <pre><code class="puppet">package { 'openssh-server':
  ensure => 'installed',
}
file { '/etc/ssh/sshd_config.conf':
  ensure  => 'file',
  content => template('myssh/sshd_config.conf.erb'),
  require => Package['openssh-server'],
}
service { 'ssh':
  ensure    => 'installed',
  subscribe => File['/etc/ssh/sshd_config.conf'],
}</code></pre>
                </section>

                <section data-background="#A61C00">
                    <h1>Zadanie 2</h1>
                    <ul>
                        <li>Uruchomienie VM przy użyciu Vagranta: <code>puppetlabs/ubuntu-14.04-64-nocm</code></li>
                        <li>Zainstalowanie Puppet <a href="https://gist.github.com/cardil/31409f02e87182fdd9ef">goo.gl/a2lGAR</a>: <pre><code class="bash">wget https://apt.puppetlabs.com/puppetlabs-release-trusty.deb
sudo dpkg -i puppetlabs-release-trusty.deb
sudo apt-get update &amp;&amp; sudo apt-get install -y puppet</code></pre></li>
                    </ul>

                </section>

                <section data-background-color="#A61C00">
                    <h1>Zadanie 3</h1>
                    <ul>
                        <li>Napisz prosty manifest instalujący pakiety: git, vim</li>
                        <li>Dodający użytkownika <code>javascript</code></li>
                        <li>Oraz utworzyć katalog użytkownika i SSH <code>/home/javascript</code>, <code>/home/javascript/.ssh</code></li>
                        <li>Sprawdz manifest przy użyciu: <code>puppet parser validate plik.pp</code></li>
                        <li>Uruchom przy użyciu Vagrant</li>
                    </ul>
                </section>

            </section>

            <section>
                <section data-background-color="#1C4587">
                    <h1>Struktura kodu Puppet</h1>
                </section>

                <section>
                    <h2>Modułowość</h2>
                    <p>
                        Kod puppet umieszczamy w:
                    </p>
                    <ul>
                        <li>modułach</li>
                        <li class="fragment">klasach</li>
                        <li class="fragment">definicjach</li>
                    </ul>
                </section>

                <section>
                    <h2>Struktura modułu</h2>
                    <pre><code>mymodule          # This outermost directory’s name matches the
│                 # name of the module.
├── manifests     # Contains all of the manifests in the module.
│   └── init.pp   # Contains a class definition. This class’s
│                 # name must match the module’s name.
├── metadata.json # Contains META information about module
├── spec          # Contains spec tests for any plugins in the
│                 # lib directory.
├── templates     # Contains templates, which the module’s
│                 # manifests can use.
├── files         # Contains files to be sourced
├── tests         # Contains examples showing how to declare
│   │             # the module's classes and defined types.
│   └── init.pp
└── lib           # Contains plugins, like custom facts and
    │             # custom resource types.
    └── puppet
        ├── provider
        └── type</code></pre>
                </section>
                <section>
                    <h2>Moduły 101</h2>
                    <ul>
                        <li>Moduły znajdują się na PM</li>
                        <li class="fragment">Moduły zawierają kod Puppet</li>
                        <li class="fragment">Moduły posiadają określony układ</li>
                        <li class="fragment">Moduły mogą być prosto instalowane</li>
                    </ul>
                    <p class="fragment">
                        Wiecej: <a href="http://slides.com/cardil/reusable-puppet-module-development-and-testing">http://slides.com/cardil/...</a>
                    </p>
                </section>

                <section>
                    <h1>Generowanie modułu</h1>
                    <p><code>puppet module generate company/modulename</code></p>
                    <p>
                        Generuje strukturę modułu
                    </p>
                </section>

                <section>
                    <h2>Klasy</h2>
                    <ul>
                        <li>Klasy to nazwane bloki kodu Puppet</li>
                        <li class="fragment">Są definiowane w modułach do późniejszego użycia</li>
                        <li class="fragment">Nie są automatycznie wywoływane, muszą być dołączone do katalogu</li>
                        <li class="fragment">Generalnie opisują średnie i duże fragmenty funkcjonalności</li>
                        <li class="fragment">Nazwa może mylić z innymi językami programowania</li>
                    </ul>
                </section>
                <section>
                    <h2>Klasy przykład</h2>
                    <pre><code class="puppet">class apache ($version = 'latest') {
  package {'httpd':
    ensure => $version, # Using the class parameter from above
    before => File['/etc/httpd.conf'],
  }
  file {'/etc/httpd.conf':
    ensure  => file,
    owner   => 'httpd',
    content => template('apache/httpd.conf.erb'), # Template from a module
  }
  service {'httpd':
    ensure    => running,
    enable    => true,
    subscribe => File['/etc/httpd.conf'],
  }
}</code></pre>
                </section>
                <section>
                    <h2>Użycie klasy</h2>
                    <pre><code class="puppet"># only once in catalog
# class is a resource
class { 'apache':
  version => 'latest',
}
# or simply
include apache
include apache</code></pre>
                </section>
                <section>
                    <h2>Definicje</h2>
                    <ul>
                        <li>To bloki kodu puppet które mogą być wywołane wielokrotnie z różnymi parametrami</li>
                        <li class="fragment">Mogą być użyte jako proste makra dla powtarzających się operacji</li>
                    </ul>
                </section>
                <section>
                    <h2>Definicje - przykład</h2>
                    <pre><code class="puppet"># /etc/puppet/modules/apache/manifests/vhost.pp
define apache::vhost ($port, $docroot, $servername = $title, $vhost_name = '*') {
  include apache # contains Package['httpd'] and Service['httpd']
  include apache::params # contains common config settings
  $vhost_dir = $apache::params::vhost_dir
  file { "${vhost_dir}/${servername}.conf":
    content => template('apache/vhost-default.conf.erb'),
      # This template can access all of the parameters and variables from above.
    owner   => 'www',
    group   => 'www',
    mode    => '644',
    require => Package['httpd'],
    notify  => Service['httpd'],
  }
}</code></pre>
                </section>
                <section data-background-color="#A61C00">
                    <h1>Zadanie 4</h1>
                    <ul>
                        <li>Wykorzystując kod z zadania 2 utworzyć moduł puppet <code>inazwisko/javascript</code> i przenieść kod do klas i definicji</li>
                        <li>uruchomienie modulu przy pomocy Vagrant</li>
                    </ul>
                </section>
            </section>

            <section>
                <section data-background-color="#fff">
                    <img src="img/forge-logo.png" alt="" />
                </section>

                <section>
                    <h1 class="blue">Forge</h1>
                    <ul>
                        <li>Hosting modułów Puppet - odpowiednik repozytorium pakietów</li>
                        <li class="fragment">Automatycznie zintegrowane z poleceniem <code>puppet module</code></li>
                        <li class="fragment">Wiele narzędzi wykorzystuje: librarian-puppet, r10k</li>
                        <li class="fragment">Jedynie publiczne moduły, bez możliwości instalacji wewnątrz sieci (są alternatywy: <a href="https://github.com/unibet/puppet-forge-server">unibet/puppet-forge-server</a>)</li>
                    </ul>
                </section>

                <section>
                    <h2>Szukanie i pobieranie modułów</h2>
                    <pre><code class="bash">puppet module list # listuje moduły
puppet search apt # szuka modułu po słowie kluczowym
puppet module install puppetlabs/apt # instaluje moduł</code></pre>
                </section>

                <section>
                    <h2>Jakie moduły wybierać?</h2>
                    <p><img style="float: right" src="img/supported-tag-upper-right.png" alt="" /> pisane przez Puppetlabs, testowane na wielu platformach</p>
                    <p class="fragment"><img style="float: right" src="img/approved-tag-upper-right.png" alt="" /> pisane przez innych autorów, zaakceptowane przez Puppetlabs jako jedne z najlepszych spełniających wymagania</p>
                    <p class="fragment">Ilość ściągnięć, historia, kto developuje, zależności, instalacja pakietów systemu, wartości na sztywno</p>
                </section>

                <section>
                    <h1>librarian-puppet</h1>
                    <ul>
                        <li>Upewnia się, że odpowiednie moduły są zainstalowane</li>
                        <li class="fragment">Obsługuje plik <code>Puppetfile</code> <pre><code class="ruby">forge 'https://forge.puppetlabs.com/'
mod 'puppetlabs/apt'
mod 'puppetlabs/firewall', '1.8.0'</code></pre></li>
                        <li class="fragment">Instalacja z Rubygems: <code>gem install librarian-puppet</code></li>
                        <li class="fragment">Uruchomienie: <code>librarian-puppet update --verbose</code> w katalogu pliku <code>Puppetfile</code></li>
                    </ul>
                </section>

                <section data-background-color="#A61C00">
                    <h1>Zadanie 5</h1>
                    <ul>
                        <li>Napisz manifest który:
                            <ul>
                                <li>zainstaluje <code>librarian-puppet</code>(instalacja ruby-dev, File, Package)</li>
                                <li>zaaktualizuje plik w katalogu <code>/etc/puppet/Puppetfile</code></li>
                                <li>uruchomi polecenia <code>librarian-puppet update --verbose</code></li>
                            </ul>
                        </li>
                        <li>Uruchomić ten skrypt przy pomocy Vagrant</li>
                    </ul>
                </section>
            </section>


            <section>

                <section>
                    <h2>Środowisko deweloperskie</h2>
                    <h1 class="blue">JavaScript</h1>

                </section>

                <section>

                    <img src="img/logos/JavaScript-logo.png" style="height: 250px" />
                    <h2>JavaScript</h2>
                    <ul>
                        <li>skryptowy język programowania</li>
                        <li class="fragment">stworzony przez firmę Netscape</li>
                        <li class="fragment">dominujący w przeglądarkach internetowych</li>
                        <li class="fragment">coraz bardziej popularny w wykorzystaniu serwerowym dzięki Nodejs</li>
                    </ul>
                </section>

                <section>
                    <h1 class="blue">Node.js</h1>
                    <ul>
                        <li>środowisko programistyczne JavaScript</li>
                        <li class="fragment">przystosowane do uruchamiania aplikacji po stronie serwera</li>
                        <li class="fragment">oraz wielu różnych narzędzi deweloperskich i programów</li>
                    </ul>
                </section>

                <section>
                    <img src="img/logos/npm-logo.png" style="height: 250px" />
                    <ul>
                        <li>Menadżer pakietów dla JavaScript</li>
                        <li class="fragment">Największa ilość bibliotek</li>
                        <li class="fragment">Łatwość publikacji własnego kodu</li>
                    </ul>
                </section>

                <section>
                    <h2>Moduł</h2>
                    <h1 class="blue">puppetlabs/nodejs</h1>
                </section>

                <section>
                    <h2>Dlaczego wybrałem</h2>
                    <h1 class="blue">puppetlabs/nodejs</h1>
                    <ul>
                        <li>możliwość instalacji nodejs</li>
                        <li class="fragment">udostępnia provider dla zasobu <code>package</code></li>
                        <li class="fragment">możliwość instalacji biblioteki lokalnie jak i globalnie</li>
                        <li class="fragment">bezpośredni autorzy Puppeta, duża ilość instalacji, aktywnie wspierany, mozliwość parametryzacji</li>
                    </ul>

                    <p class="fragment">https://forge.puppetlabs.com/puppetlabs/nodejs</p>
                </section>

                <section data-background-color="#A61C00">
                    <h1>Zadanie 6</h1>
                    <ul>
                        <li>Instalacja modułu <code>puppetlabs/nodejs</code>(za pomocą librarian-puppet)</li>
                        <li>Napisanie manifestu zawierającego nodejs <code>include nodejs</code></li>
                        <li>Uruchomienie na Vagrant i przetestowanie działania poprzez wpisanie w konsole <code>node</code></li>
                    </ul>
                </section>
            </section>

            <section>
                <section>
                    <h2>Czym są</h2>
                    <h1 class="blue">Puppet providers?</h1>
                </section>

                <section>
                    <h1>Provider</h1>
                    <ul>
                        <li>Zasoby w Puppet posiadają wiele providerów</li>
                        <li class="fragment">Każdy provider jest konkretną implementacją dla konkretnego systemu operacyjnego lub podsystemu.</li>
                        <li class="fragment">Na przykład, dla typu package istnieje wiele providerów między innymi: aix, appdmg, windows, apt, rpm, pip3</li>
                        <li class="fragment">Puppet automatycznie wybiera odpowiedni provider</li>
                    </ul>
                </section>

                <section>
                    <h2>Używanie konkretnego providera</h2>
                    <p>
                        Istenieje możliwość wymuszenia konkretnego providera dla każdego typu
                    </p>
                    <pre><code class="puppet">package { 'lolcat':
  ensure   => 'present',
  provider => 'gem',
}</code></pre>
                </section>

                <section>
                    <h2>Dodatkowe providery</h2>
                    <ul>
                        <li>istnieje możliwość dodawania dodatkowych providerów</li>
                        <li class="fragment">należy napisać odpowiedni kod w języku Ruby</li>
                        <li class="fragment">niektóre moduły na PuppetForge udostępniają takie providery</li>
                    </ul>
                </section>

                <section data-background-color="#A61C00">
                    <h1>Zadanie 7</h1>
                    <ul>
                        <li>Instalacja biblioteki <code>lolcat</code> z RubyGems przy pomocy zasobu <code>package</code> i providera <code>gem</code></li>
                        <li>Sprawdzenie działania poprzez wpisane <code>lolcat -h</code></li>
                    </ul>
                </section>
            </section>

            <section>
                <section>
                    <h3>Sposoby użycia modułu</h3>
                    <h2 class="blue">puppetlabs/nodejs</h2>
                </section>

                <section>
                    <h2>Instalacja Node.js</h2>
                    <pre><code class="puppet">include nodejs</code></pre>
                    <p>
                        Po wywołaniu będziemy mogli wywołać polecenie <code>node</code>
                    </p>
                </section>

                <section>
                    <h2>Instalacja biblioteki (globalna)</h2>

                    <pre><code class="puppet">package { 'express':
  ensure   => 'present',
  provider => 'npm',
}</code></pre>

                    <p>
                        Instalacja paczki <code>express</code> dla każdego użytkownika w systemie.
                    </p>
                </section>

                <section>
                    <h2>Instalacja biblioteki (lokalnie)</h2>
                    <pre><code class="puppet">nodejs::npm { 'express from the npm registry':
  ensure  => 'present',
  package => 'express',
  target  => '~/node_modules',
}</code></pre>
                    <p>
                        Instalacja biblioteke <code>express</code> do <code>~/node_modules</code> dla aktualnego użytkownika w systemie.
                    </p>
                    <p>
                        Nie możemy wykorzystać zasobu <code>package</code> bo instaluje on w scieżkach systemowych
                    </p>
                </section>

                <section data-background-color="#A61C00">
                    <h1>Zadanie 8</h1>
                    <ul>
                        <li>Zainstalować globalnie paczkę <code>grunt-cli</code> przy użyciu puppetlabs/nodejs</li>
                        <li>Zainstalować lokalnie paczkę <code>mongodb</code> przy użyciu puppetlabs/nodejs</li>
                    </ul>
                </section>
            </section>

            <section data-background-color="#5A983F">

                <section>
                    <h1>Sprawdzenie</h1>
                    <ul>
                        <li>Za pomocą git sklonować repozytorium: https://github.com/twitter/typeahead.js </li>
                        <li>Odpalić instalację zależności poprzez <code>npm install</code></li>
                        <li>odpalić budowanie się projektu poprzez polecenie <code>grunt</code></li>
                    </ul>
                </section>
                <section>
                    <h1>Podsumowanie</h1>
                    <h2>warsztatu</h2>
                    <p>
                        Co poznaliśmy? Powtórka
                    </p>
                    <ul>
                        <li class="fragment">środowisko deweloperskie: co to takiego, jak je tworzyć?</li>
                        <li class="fragment">Wprowadzenie do Vagrant</li>
                        <li class="fragment">Przypomnienie z Puppet DSL</li>
                        <li class="fragment">Modułowość - klasy i definicje w Puppet</li>
                        <li class="fragment">Puppetforge i zewnętrzne moduly (librarian-puppet)</li>
                        <li  class="fragment">Opis modułu puppetlabs/nodejs</li>
                        <li  class="fragment">Stworzenie środowiska deweloperskiego JS przy użyciu Puppet</li>
                    </ul>
                </section>
                <section>
                    <h1 class="blue">Co dalej?</h1>
                    <ul>
                        <li>Testy rspec/beaker</li>
                        <li>Dziedziczenie klas i podział na moduły</li>
                        <li>Tworzenie niestandardowych funkcji oraz faktów</li>
                        <li>Tworzenie dodatkowych typów i providerów</li>
                    </ul>
                </section>
            </section>

            <section>
                <h1 class="blue">Dziękuje</h1>
            </section>
            <!-- SLIDES ENDS HERE -->
        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
        // Full list of configuration options available at:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,
            zoomKey: 'ctrl',
            previewLinks: true,

            transition: 'convex', // none/fade/slide/convex/concave/zoom

            // Optional reveal.js plugins
            dependencies: [{
                src: 'lib/js/classList.js',
                condition: function() {
                    return !document.body.classList;
                }
            }, {
                src: 'plugin/markdown/marked.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/markdown/markdown.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/highlight/highlight.js',
                async: true,
                callback: function() {
                    hljs.initHighlightingOnLoad();
                }
            }, {
                src: 'plugin/zoom-js/zoom.js',
                async: true
            }, {
                src: 'plugin/notes/notes.js',
                async: true
            }]
        });
    </script>

</body>

</html>
